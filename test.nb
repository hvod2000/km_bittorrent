(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     15808,        385]
NotebookOptionsPosition[     13777,        342]
NotebookOutlinePosition[     14118,        357]
CellTagsIndexPosition[     14075,        354]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"SetDirectory", "@", 
   RowBox[{"NotebookDirectory", "[", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.794895002340804*^9, 3.794895018913875*^9}, {
   3.794976255411274*^9, 3.79497626256456*^9}, {3.796282633607025*^9, 
   3.796282655196217*^9}, 3.7962829474457903`*^9, {3.7964020532768555`*^9, 
   3.79640207828544*^9}},ExpressionUUID->"310dbbad-6377-4af0-bf70-\
3523303279b6"],

Cell[CellGroupData[{

Cell["Bencode", "Section",
 CellChangeTimes->{{3.796400598447136*^9, 
  3.796400609020849*^9}},ExpressionUUID->"9b2d7e88-23fc-4481-951f-\
50dd224b5bee"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Import", "[", "\"\<bencode-decode.wls\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Import", "[", "\"\<bencode-encode.wls\>\"", "]"}], ";"}]}], "Input",\
ExpressionUUID->"ad306b4d-e1ea-4fd8-980d-aa8bfd6a83c1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"BencodeDecode", "[", 
  RowBox[{"\"\<d3:agei19e4:name4:Vlade\>\"", ",", " ", "\"\<UTF-8\>\""}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.7949781408983507`*^9, 3.794978195506575*^9}, {
   3.7949783286610727`*^9, 3.79497836197589*^9}, {3.79639271787889*^9, 
   3.796392727534915*^9}, {3.796392803764695*^9, 3.796392820673407*^9}, {
   3.7963928552769413`*^9, 3.796392869503951*^9}, 3.7963929764261837`*^9},
 CellLabel->"In[36]:=",ExpressionUUID->"829a14b1-3db2-4dba-af4c-0a9cd5c65e50"],

Cell[BoxData[
 RowBox[{"\[LeftAssociation]", 
  RowBox[{
   RowBox[{"\<\"age\"\>", "\[Rule]", "19"}], ",", 
   RowBox[{"\<\"name\"\>", "\[Rule]", "\<\"Vlad\"\>"}]}], 
  "\[RightAssociation]"}]], "Output",
 CellChangeTimes->{
  3.796392981076166*^9, {3.7963931088349333`*^9, 3.796393116961969*^9}, 
   3.796393149951314*^9, {3.7963934781782713`*^9, 3.796393485475995*^9}, 
   3.796393518943077*^9, 3.796393675523325*^9, {3.796393914026443*^9, 
   3.796393935746004*^9}, 3.796394305289278*^9, 3.796395397646007*^9, 
   3.796395759768551*^9, 3.796395851812398*^9, 3.796396437143092*^9, 
   3.7963964783233137`*^9, 3.796396547760398*^9, 3.79639660827915*^9, {
   3.7963966432939672`*^9, 3.796396666846796*^9}, 3.796396900307716*^9, {
   3.796397105655077*^9, 3.796397118997517*^9}, {3.796397336140774*^9, 
   3.796397365659596*^9}, 3.796397425295278*^9, {3.7963974621162863`*^9, 
   3.796397477319334*^9}, 3.796397638872799*^9, 3.7963976969506483`*^9, 
   3.7963977945215683`*^9, 3.7963978409880133`*^9, 3.796397916108304*^9, 
   3.7964007132948895`*^9},
 CellLabel->"Out[36]=",ExpressionUUID->"90921074-5665-4a0c-84bf-8a86137a7c6b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"BencodeEncode", "@", 
  RowBox[{"\[LeftAssociation]", 
   RowBox[{
    RowBox[{"\"\<name\>\"", "\[Rule]", "\"\<Vlad\>\""}], ",", 
    RowBox[{"\"\<age\>\"", "\[Rule]", "19"}]}], 
   "\[RightAssociation]"}]}]], "Input",
 CellChangeTimes->{{3.79497820300904*^9, 3.794978231812313*^9}, {
  3.7949782749475803`*^9, 3.794978302542823*^9}, {3.796393258952318*^9, 
  3.7963932684427843`*^9}, {3.7963933319544077`*^9, 3.796393340176032*^9}, {
  3.796393483287849*^9, 3.796393483570207*^9}},
 CellLabel->"In[37]:=",ExpressionUUID->"c1ed8207-3483-42a0-922c-c1688955f670"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "100", ",", "52", ",", "58", ",", "110", ",", "97", ",", "109", ",", "101", 
   ",", "52", ",", "58", ",", "86", ",", "108", ",", "97", ",", "100", ",", 
   "51", ",", "58", ",", "97", ",", "103", ",", "101", ",", "105", ",", "49", 
   ",", "57", ",", "101", ",", "101"}], "}"}]], "Output",
 CellChangeTimes->{
  3.796393485561634*^9, 3.79639351900709*^9, 3.796393675604802*^9, {
   3.796393914108859*^9, 3.796393935829068*^9}, 3.796394305373087*^9, 
   3.796395397768793*^9, 3.796395759900301*^9, 3.796395851935315*^9, 
   3.79639643726414*^9, 3.7963964791944733`*^9, 3.796396547898972*^9, 
   3.7963966084228773`*^9, {3.796396643434101*^9, 3.796396667724867*^9}, 
   3.796396900446978*^9, {3.796397105787771*^9, 3.796397119134994*^9}, {
   3.796397336300584*^9, 3.796397365795443*^9}, 3.79639742545332*^9, {
   3.796397462249165*^9, 3.796397477440391*^9}, 3.79639763897506*^9, 
   3.796397697020631*^9, 3.796397794628446*^9, 3.7963978410788803`*^9, 
   3.79639791619492*^9, 3.796400713389639*^9},
 CellLabel->"Out[37]=",ExpressionUUID->"6443bf5e-74ee-4ac6-86c5-c92b6f3d1e4f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"dt", "=", 
   RowBox[{"BencodeLoad", "[", "\"\<test.torrent\>\"", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{" ", 
  RowBox[{"h", "=", 
   RowBox[{"Hash", "[", 
    RowBox[{
     RowBox[{"ByteArray", "@", 
      RowBox[{"BencodeEncode", "[", 
       RowBox[{
       "dt", "\[LeftDoubleBracket]", "\"\<info\>\"", 
        "\[RightDoubleBracket]"}], "]"}]}], ",", "\"\<SHA\>\"", ",", 
     "\"\<ByteArray\>\""}], "]"}]}]}]}], "Input",
 CellChangeTimes->{{3.795097577961895*^9, 3.795097670414543*^9}, {
   3.7950977019124775`*^9, 3.795097910055714*^9}, {3.796392662751878*^9, 
   3.796392664350646*^9}, {3.796393006456972*^9, 3.796393017526149*^9}, {
   3.796393128539915*^9, 3.796393128678549*^9}, 3.7963931651746264`*^9, {
   3.79639386781728*^9, 3.796393871324643*^9}, {3.796394280231071*^9, 
   3.796394284920272*^9}, {3.796394357221867*^9, 3.796394359712349*^9}, {
   3.796394416738718*^9, 3.796394416742132*^9}, {3.7963974989255533`*^9, 
   3.7963975034817953`*^9}, {3.796397578718444*^9, 3.7963975803885403`*^9}, {
   3.7963977910972567`*^9, 3.796397792540639*^9}},
 CellLabel->"In[38]:=",ExpressionUUID->"7257040d-28f0-4a9e-8a5c-1e4fe1f17dc9"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{
   TagBox["ByteArray",
    "SummaryHead"], "[", 
   DynamicModuleBox[{Typeset`open$$ = False, Typeset`embedState$$ = "Ready"}, 
    TemplateBox[{PaneSelectorBox[{False -> GridBox[{{
            GridBox[{{
               TagBox["\"20 bytes\"", "SummaryItem"]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Rows" -> {{Top}}}, AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}], True -> GridBox[{{
            GridBox[{{
               TagBox["\"20 bytes\"", "SummaryItem"]}}, 
             GridBoxAlignment -> {
              "Columns" -> {{Left}}, "Rows" -> {{Automatic}}}, AutoDelete -> 
             False, GridBoxItemSize -> {
              "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
             GridBoxSpacings -> {"Columns" -> {{2}}, "Rows" -> {{Automatic}}},
              BaseStyle -> {
              ShowStringCharacters -> False, NumberMarks -> False, 
               PrintPrecision -> 3, ShowSyntaxStyles -> False}]}}, 
          GridBoxAlignment -> {"Rows" -> {{Top}}}, AutoDelete -> False, 
          GridBoxItemSize -> {
           "Columns" -> {{Automatic}}, "Rows" -> {{Automatic}}}, 
          BaselinePosition -> {1, 1}]}, 
       Dynamic[Typeset`open$$], ImageSize -> Automatic]},
     "SummaryPanel"],
    DynamicModuleValues:>{}], "]"}],
  ByteArray[{175, 135, 0, 231, 194, 10, 139, 253, 61, 14, 98, 52, 185, 11, 
   234, 236, 117, 23, 191, 4}],
  Editable->False,
  SelectWithContents->True,
  Selectable->False]], "Output",
 CellChangeTimes->{
  3.796397426052577*^9, {3.796397463846006*^9, 3.7963975051858807`*^9}, 
   3.796397581296918*^9, 3.796397639517456*^9, 3.796397697563315*^9, 
   3.7963977955341043`*^9, 3.796397841606248*^9, 3.7963979167395267`*^9, 
   3.796400713523278*^9},
 CellLabel->"Out[39]=",ExpressionUUID->"fb15be04-91e6-4d28-b516-b87a294a8997"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Traker", "Section",
 CellChangeTimes->{{3.796400615366701*^9, 
  3.7964006405648804`*^9}},ExpressionUUID->"7fcb4c26-87b7-4d5c-adfa-\
9431a70a9f7b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Import", "[", "\"\<tracker.wls\>\"", "]"}], ";"}]], "Input",
 CellChangeTimes->{3.7964020675057664`*^9},
 CellLabel->
  "In[101]:=",ExpressionUUID->"1393cbb8-a31b-4016-b9f4-c50757ea16fa"],

Cell[BoxData[
 RowBox[{
  RowBox[{"t", "=", 
   RowBox[{"TorrentTracker", "[", 
    RowBox[{
     RowBox[{
     "dt", "\[LeftDoubleBracket]", "\"\<announce\>\"", 
      "\[RightDoubleBracket]"}], ",", "h", ",", "123456", ",", "1234"}], 
    "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.7950976895410624`*^9, 3.7950977137761574`*^9}, {
   3.7950979166622376`*^9, 3.7950979264086943`*^9}, {3.795097965060526*^9, 
   3.7950979789342337`*^9}, {3.795098067348189*^9, 3.7950980849555035`*^9}, 
   3.79640066401978*^9},
 CellLabel->
  "In[102]:=",ExpressionUUID->"cf65ae6a-1ef3-4934-85aa-5ff9eabcc2d6"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"GetPeers", "[", "t", "]"}]], "Input",
 CellChangeTimes->{{3.7964007192370462`*^9, 3.796400722694352*^9}},
 CellLabel->
  "In[103]:=",ExpressionUUID->"e3f72842-1a24-4deb-bcaa-71fda647b784"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\<\"188.123.231.74\"\>", ",", "55356"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"79.170.111.31\"\>", ",", "1234"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"188.191.144.131\"\>", ",", "44889"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"81.200.31.191\"\>", ",", "48866"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"149.6.195.35\"\>", ",", "38272"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"176.214.201.133\"\>", ",", "55564"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"94.231.136.137\"\>", ",", "6881"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"5.187.69.47\"\>", ",", "27414"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"109.201.34.46\"\>", ",", "14497"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"178.140.225.199\"\>", ",", "29245"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"37.99.32.126\"\>", ",", "6881"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"46.242.9.190\"\>", ",", "19214"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"185.215.60.126\"\>", ",", "45047"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"109.124.223.92\"\>", ",", "28431"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"188.242.70.214\"\>", ",", "31266"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"178.34.62.127\"\>", ",", "18569"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"37.157.176.231\"\>", ",", "21338"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"213.21.25.6\"\>", ",", "40890"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"62.76.122.221\"\>", ",", "55471"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"188.163.44.110\"\>", ",", "19782"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"79.164.61.97\"\>", ",", "35796"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"78.58.126.100\"\>", ",", "37985"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"87.245.151.162\"\>", ",", "12345"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"78.56.197.185\"\>", ",", "55217"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"91.219.24.74\"\>", ",", "56037"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"176.212.220.47\"\>", ",", "42592"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"84.53.198.210\"\>", ",", "34453"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"95.59.66.229\"\>", ",", "45040"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"92.47.129.150\"\>", ",", "16881"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"194.247.172.210\"\>", ",", "35928"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.796443117482211*^9, 3.796443126164063*^9}, {
   3.796443375378434*^9, 3.7964433828671694`*^9}, 3.7964434545339017`*^9},
 CellLabel->
  "Out[103]=",ExpressionUUID->"c4c5baa6-f79e-4877-af3e-cf9c44fc7604"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["RandomAccesFile", "Section",
 CellChangeTimes->{{3.7964006212221565`*^9, 
  3.79640063500523*^9}},ExpressionUUID->"8d421a90-e840-443d-ab75-\
27833f4431aa"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Import", "[", "\"\<randomaccessfile.wls\>\"", "]"}], 
  ";"}]], "Input",
 CellLabel->
  "In[106]:=",ExpressionUUID->"143e64d3-7a0f-4a77-b2ba-27b4d5e6370b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"f", "=", 
   RowBox[{"RandomAccessFile", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"NotebookDirectory", "[", "]"}], "<>", "\"\<testfile2\>\""}], 
     ",", " ", "1024"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "@", 
   RowBox[{"write", "[", 
    RowBox[{"1023", ",", " ", 
     RowBox[{"Range", "@", "256"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "@", 
   RowBox[{"close", "[", "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.796282677379517*^9, 3.796282691686779*^9}, {
   3.796282723347793*^9, 3.796282803149522*^9}, {3.796282845085703*^9, 
   3.79628285678231*^9}, 3.796282950323984*^9, 3.796283015370141*^9, {
   3.796283063255402*^9, 3.7962830948508673`*^9}},
 CellLabel->
  "In[107]:=",ExpressionUUID->"f0b1df39-d6d5-4603-890f-6cef8a76395d"]
}, Open  ]]
},
WindowSize->{766, 772},
WindowMargins->{{-7, Automatic}, {Automatic, 0}},
FrontEndVersion->"12.0 for Microsoft Windows (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 415, 8, 45, "Input",ExpressionUUID->"310dbbad-6377-4af0-bf70-3523303279b6"],
Cell[CellGroupData[{
Cell[998, 32, 152, 3, 67, "Section",ExpressionUUID->"9b2d7e88-23fc-4481-951f-50dd224b5bee"],
Cell[1153, 37, 267, 6, 82, "Input",ExpressionUUID->"ad306b4d-e1ea-4fd8-980d-aa8bfd6a83c1"],
Cell[CellGroupData[{
Cell[1445, 47, 508, 8, 28, "Input",ExpressionUUID->"829a14b1-3db2-4dba-af4c-0a9cd5c65e50"],
Cell[1956, 57, 1129, 19, 32, "Output",ExpressionUUID->"90921074-5665-4a0c-84bf-8a86137a7c6b"]
}, Open  ]],
Cell[CellGroupData[{
Cell[3122, 81, 585, 11, 28, "Input",ExpressionUUID->"c1ed8207-3483-42a0-922c-c1688955f670"],
Cell[3710, 94, 1119, 18, 52, "Output",ExpressionUUID->"6443bf5e-74ee-4ac6-86c5-c92b6f3d1e4f"]
}, Open  ]],
Cell[CellGroupData[{
Cell[4866, 117, 1193, 24, 64, "Input",ExpressionUUID->"7257040d-28f0-4a9e-8a5c-1e4fe1f17dc9"],
Cell[6062, 143, 2406, 48, 54, "Output",ExpressionUUID->"fb15be04-91e6-4d28-b516-b87a294a8997"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[8517, 197, 153, 3, 67, "Section",ExpressionUUID->"7fcb4c26-87b7-4d5c-adfa-9431a70a9f7b"],
Cell[8673, 202, 222, 5, 45, "Input",ExpressionUUID->"1393cbb8-a31b-4016-b9f4-c50757ea16fa"],
Cell[8898, 209, 598, 14, 28, "Input",ExpressionUUID->"cf65ae6a-1ef3-4934-85aa-5ff9eabcc2d6"],
Cell[CellGroupData[{
Cell[9521, 227, 212, 4, 28, "Input",ExpressionUUID->"e3f72842-1a24-4deb-bcaa-71fda647b784"],
Cell[9736, 233, 2775, 67, 204, "Output",ExpressionUUID->"c4c5baa6-f79e-4877-af3e-cf9c44fc7604"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[12560, 306, 161, 3, 67, "Section",ExpressionUUID->"8d421a90-e840-443d-ab75-27833f4431aa"],
Cell[12724, 311, 190, 5, 45, "Input",ExpressionUUID->"143e64d3-7a0f-4a77-b2ba-27b4d5e6370b"],
Cell[12917, 318, 844, 21, 103, "Input",ExpressionUUID->"f0b1df39-d6d5-4603-890f-6cef8a76395d"]
}, Open  ]]
}
]
*)

